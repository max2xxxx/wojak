function ajax(e){if(!e.url||!e.type)return;e.method||(e.method=!0);let t=new XMLHttpRequest;t.onreadystatechange=function(){4!=t.readyState||200!=t.status?"function"==typeof e.errorCallback&&e.errorCallback():"function"==typeof e.success&&e.success(t.responseText,t.readyState)};let o=[],n=e.data;if("string"==typeof n){let e=String.prototype.split.call(n,"&");for(let t=0,n=e.length;t<n;t++){let n=e[t].split("=");o.push(encodeURIComponent(n[0])+"="+encodeURIComponent(n[1]))}}else if("object"==typeof n&&!(n instanceof String||FormData&&n instanceof FormData))for(let e in n){let t=n[e];if("[object Array]"==Object.prototype.toString.call(t))for(let n=0,r=t.length;n<r;n++)o.push(encodeURIComponent(e)+"[]="+encodeURIComponent(t[n]));else o.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}o=o.join("&");let r=e.url;"GET"==e.type&&(r=e.url+"?"+o,o=""),t.open(e.type,r,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.headers&&e.headers.forEach(e=>{t.setRequestHeader(e.header,e.value)}),t.send(o)}